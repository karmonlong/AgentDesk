# AKShare MCP 工具限制说明

## ⚠️ 重要限制

### 1. Search 工具的数据源限制

`search` 工具有以下限制：

- **数据不全**：很多公司名称搜索会返回 "Not Found"
- **数据源问题**：并非所有A股公司都能通过名称搜索到
- **更新延迟**：某些股票信息可能更新不及时

### 2. 建议的使用方式

#### ✅ 推荐方式：直接使用股票代码查询

如果您知道股票代码，直接使用代码查询更可靠：

```
@市场资讯捕手 查询 600276 的股票信息
@市场资讯捕手 查询 000001 的最新股价
@市场资讯捕手 查询 600036 的相关新闻
```

#### ⚠️ 不推荐：依赖公司名称搜索

由于数据源限制，公司名称搜索可能失败：

```
@市场资讯捕手 查询恒瑞制药的股价  # 可能失败
```

### 3. 常见股票代码参考

| 公司名称 | 股票代码 | 市场 |
|---------|---------|------|
| 平安银行 | 000001 | 深交所 |
| 万科A | 000002 | 深交所 |
| 招商银行 | 600036 | 上交所 |
| 恒瑞医药 | 600276 | 上交所 |
| 贵州茅台 | 600519 | 上交所 |
| 中国平安 | 601318 | 上交所 |
| 五粮液 | 000858 | 深交所 |
| 宁德时代 | 300750 | 深交所 |

### 4. 可用的查询功能

以下功能经验证可用：

✅ **股票信息查询** (`stock_info`)
- 需要：股票代码 + market="A"
- 示例：`{"symbol": "000001", "market": "A"}`

✅ **股票新闻查询** (`stock_news`)
- 需要：股票代码
- 示例：`{"symbol": "600036", "limit": 5}`

✅ **当前时间查询** (`get_current_time`)
- 无需参数
- 可查询是否为交易日

⚠️ **股票价格查询** (`stock_prices`)
- 需要：股票代码 + market="A" + period + limit
- 注意：某些股票可能返回 "Not Found"（数据源问题）

⚠️ **搜索功能** (`search`)
- 数据不全，很多公司搜索不到
- 建议直接使用股票代码

### 5. 解决方案

#### 方案 A：使用第三方股票代码查询

1. 访问 [东方财富网](https://www.eastmoney.com/)
2. 搜索公司名称获取股票代码
3. 使用股票代码查询

#### 方案 B：使用常用股票代码

记住常用股票代码，直接查询：

```
@市场资讯捕手 查询 600276 的股票信息
@市场资讯捕手 查询 600276 的最新5条新闻
```

#### 方案 C：询问AI提供股票代码

```
@市场资讯捕手 恒瑞医药的股票代码是多少？
```

AI 可能能从训练数据中提供常见公司的股票代码。

### 6. 错误示例与解决

❌ **错误**:
```
@市场资讯捕手 查询恒瑞制药的最新股价
```
**结果**: Not Found for 恒瑞制药

✅ **正确**:
```
@市场资讯捕手 恒瑞医药的股票代码是 600276，请查询它的最新股价
```
或
```
@市场资讯捕手 查询 600276 的股票信息
```

### 7. 总结

**核心建议**：
1. ⭐ **优先使用股票代码查询**，不要依赖公司名称搜索
2. 📋 记录常用股票代码以便快速查询
3. 🔍 通过第三方网站（如东方财富网）查询股票代码
4. 🤖 询问 AI 提供常见公司的股票代码

**数据源限制**：
- AKShare 的 search 功能数据不全
- 这是上游数据源的问题，非我们系统的问题
- 建议通过股票代码直接查询，绕过 search 功能














