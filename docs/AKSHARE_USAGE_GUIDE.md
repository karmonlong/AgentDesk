# 市场资讯捕手 - AKShare 股票数据查询使用指南

## 📋 功能概述

**市场资讯捕手** 智能体已集成 AKShare MCP 工具，可以实时查询股票数据、新闻、行情等信息。

## 🚀 使用方法

### 方法一：通过 @ 提及使用（推荐）

在聊天输入框中输入 `@市场资讯捕手`，然后输入您的查询：

```
@市场资讯捕手 查询平安银行(000001)的股票信息
```

```
@市场资讯捕手 查询招商银行的最新5条新闻
```

```
@市场资讯捕手 搜索"新能源"相关的股票
```

### 方法二：通过智能体市场

1. 点击左侧活动栏的 **智能体市场** 图标（🛒）
2. 找到 **市场资讯捕手** 卡片
3. 点击卡片查看详情和使用示例
4. 点击 **立即运行** 按钮快速开始

## 📊 支持的查询类型

### 1. 查询股票基本信息

**示例：**
```
@市场资讯捕手 查询平安银行(000001)的股票信息
@市场资讯捕手 查询招商银行(600036)的基本信息
```

**功能：**
- 获取股票代码、名称、市场等基本信息
- 显示股票的基本财务数据

### 2. 查询股票价格数据

**示例：**
```
@市场资讯捕手 查询000001的最近10天价格数据
@市场资讯捕手 查看600036的日线行情
@市场资讯捕手 查询平安银行的最近20条价格记录
```

**功能：**
- 获取历史价格数据
- 支持不同周期（日线、周线、月线）
- 可指定数据条数

### 3. 查询股票相关新闻

**示例：**
```
@市场资讯捕手 查询000001的最新5条新闻
@市场资讯捕手 获取招商银行的相关新闻
@市场资讯捕手 查看平安银行的最新资讯
```

**功能：**
- 获取股票相关的最新新闻
- 可指定新闻数量（默认5条）

### 4. 搜索股票代码

**示例：**
```
@市场资讯捕手 搜索"新能源"相关的股票
@市场资讯捕手 查找"半导体"概念的股票代码
@市场资讯捕手 搜索"人工智能"相关的股票
```

**功能：**
- 根据关键词搜索股票
- 支持公司名称、行业概念等关键词

### 5. 获取当前时间信息

**示例：**
```
@市场资讯捕手 当前是什么时间？
@市场资讯捕手 今天是交易日吗？
@市场资讯捕手 获取当前时间和交易日信息
```

**功能：**
- 获取当前时间
- 判断是否为交易日

## 💡 使用技巧

### 1. 股票代码格式

- ✅ **正确格式**：`000001`、`600036`
- ❌ **错误格式**：`000001.SZ`、`600036.SH`

系统会自动处理代码格式，但建议使用纯数字格式。

### 2. 自然语言查询

您可以用自然语言描述需求，智能体会自动理解：

```
@市场资讯捕手 我想了解平安银行的股票情况
@市场资讯捕手 帮我查一下招商银行最近的新闻
@市场资讯捕手 新能源板块有哪些股票？
```

### 3. 组合查询

可以一次查询多个信息：

```
@市场资讯捕手 查询000001的股票信息和最新新闻
```

## 📝 输出格式

查询结果会以结构化的方式展示：

- **股票信息**：包含代码、市场、基本信息等
- **价格数据**：表格形式展示历史价格
- **新闻列表**：标题、来源、时间等
- **搜索结果**：匹配的股票代码和名称

## ⚠️ 注意事项

1. **数据可用性**：
   - **search 功能限制**：由于数据源限制，很多公司名称搜索会返回 "Not Found"
   - **建议使用股票代码**：优先使用股票代码直接查询，不要依赖公司名称搜索
   - 某些股票代码的 `stock_prices` 可能返回 "Not Found"（数据源问题）
   - 非交易时间数据更新可能延迟

2. **查询频率**：建议不要过于频繁地查询，避免对数据源造成压力

3. **数据准确性**：数据来源于 AKShare，仅供参考，投资决策请以官方数据为准

## 💡 实用建议

### 最佳实践：直接使用股票代码

如果您知道股票代码，直接使用代码查询最可靠：

```
@市场资讯捕手 查询 600276 的股票信息
@市场资讯捕手 查询 000001 的最新股价
@市场资讯捕手 查询 600036 的相关新闻
```

### 常见股票代码

| 公司 | 代码 | 公司 | 代码 |
|-----|------|-----|------|
| 平安银行 | 000001 | 招商银行 | 600036 |
| 万科A | 000002 | 恒瑞医药 | 600276 |
| 五粮液 | 000858 | 贵州茅台 | 600519 |
| 宁德时代 | 300750 | 中国平安 | 601318 |

### 获取股票代码的方法

1. 访问 [东方财富网](https://www.eastmoney.com/) 搜索公司名称
2. 使用百度/Google 搜索 "公司名称 股票代码"
3. 询问 AI：`恒瑞医药的股票代码是多少？`

详细限制说明请参考：[AKSHARE_LIMITATIONS.md](./AKSHARE_LIMITATIONS.md)

## 🔧 故障排除

### 问题：查询返回 "Not Found"

**解决方案：**
- 检查股票代码是否正确
- 尝试使用其他股票代码
- 稍后重试

### 问题：工具调用失败

**解决方案：**
- 检查网络连接
- 确认 MCP 服务配置正确
- 查看控制台日志获取详细错误信息

## 📚 更多信息

- [AKShare MCP 工具详细文档](./AKSHARE_MCP_GUIDE.md)
- [MCP 服务配置说明](./MCP_SECURITY_GUIDE.md)

## 🎯 快速开始示例

1. **打开聊天输入框**
2. **输入**：`@市场资讯捕手 查询000001的股票信息`
3. **按 Enter 发送**
4. **查看结果**：系统会显示平安银行的股票信息

---

**提示**：在输入框中输入 `@` 符号，系统会自动显示可用的智能体列表，方便选择。

