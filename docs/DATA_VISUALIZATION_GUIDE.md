# 📊 数据可视化专家使用指南

## 🎯 功能概述

**数据可视化专家**是 AgentDesk 的全新智能体，专门用于生成交互式 HTML 图表和数据可视化。

### ✨ 核心能力

- 🎨 生成完整的 HTML 交互式图表
- 📊 支持多种图表类型（柱状图、折线图、饼图、雷达图等）
- 🎯 使用专业的图表库（Chart.js、ECharts）
- 📱 响应式设计，适配不同屏幕
- 🖌️ 美观的橙色主题配色

---

## 🚀 快速开始

### 方式一：显式调用 (@提及)

```
@数据可视化专家 帮我画一个今年基金收益率的柱状图
```

### 方式二：关键词触发

系统会自动识别以下关键词并调用数据可视化专家：

- 可视化、图表、画一个、生成图
- 柱状图、饼图、折线图、仪表板
- chart、html

**示例**：
```
画一个饼图展示不同基金类型的占比
```

---

## 📋 支持的图表类型

### 1. 柱状图 (Bar Chart)
**适用场景**：对比不同类别的数据

**示例请求**：
```
@数据可视化专家 画一个展示各季度收益的柱状图
```

### 2. 折线图 (Line Chart)
**适用场景**：展示趋势和变化

**示例请求**：
```
生成一个月度销售数据的折线图
```

### 3. 饼图 (Pie Chart)
**适用场景**：展示占比和百分比

**示例请求**：
```
画一个饼图展示资产配置比例
```

### 4. 面积图 (Area Chart)
**适用场景**：展示数据的累积效果

**示例请求**：
```
@数据可视化专家 创建一个累计收益的面积图
```

### 5. 雷达图 (Radar Chart)
**适用场景**：多维度数据对比

**示例请求**：
```
生成一个基金评级的雷达图
```

---

## 🎨 使用示例

### 示例 1：基础柱状图

**用户请求**：
```
@数据可视化专家 帮我画一个今年基金收益率的柱状图
```

**AI 响应**：
- 生成完整的 HTML 代码
- 包含 Chart.js 库引用
- 使用橙色主题
- 包含交互功能（悬停显示详细数据）

**渲染效果**：
- 在内容区域自动渲染为可交互的图表
- 支持全屏查看（点击右上角扩展按钮）

---

### 示例 2：月度销售折线图

**用户请求**：
```
生成一个显示月度销售数据的折线图
```

**AI 响应**：
- 自动触发数据可视化专家
- 生成平滑的折线图
- 包含数据标注和填充效果

---

### 示例 3：资产配置饼图

**用户请求**：
```
画一个饼图展示不同基金类型的占比：
股票型基金 40%，债券型基金 30%，混合型基金 20%，货币基金 10%
```

**AI 响应**：
- 根据您提供的数据生成饼图
- 显示百分比标签
- 使用不同颜色区分各类别

---

## 🛠️ 技术实现

### 前端渲染

数据可视化专家生成的 HTML 代码会在 AgentDesk 的内容区域自动渲染：

1. **提取 HTML 代码块**：系统识别 ` ```html` 代码块
2. **iframe 沙箱渲染**：使用 iframe 隔离渲染，避免样式冲突
3. **安全控制**：使用 `sandbox` 属性控制脚本执行权限
4. **交互按钮**：提供全屏查看按钮

### 样式设计

- **容器**：带边框的卡片式设计
- **头部**：显示图表类型和图标
- **预览区**：最小高度 400px，自适应内容
- **按钮**：橙色主题，悬停动画效果

---

## 📊 最佳实践

### 1. 提供明确的数据

✅ **好的示例**：
```
@数据可视化专家 画一个柱状图，数据如下：
一月：12万，二月：15万，三月：18万
```

❌ **不好的示例**：
```
画个图
```

### 2. 指定图表类型

明确说明需要什么类型的图表：
- "柱状图" / "条形图"
- "折线图"
- "饼图" / "环形图"
- "面积图"
- "雷达图"

### 3. 说明图表用途

让 AI 理解您的需求：
```
@数据可视化专家 为了季度报告，帮我生成一个展示各产品销售对比的柱状图
```

---

## 🎯 实际应用场景

### 场景 1：季度业绩汇报

**需求**：展示各部门季度业绩

**请求**：
```
@数据可视化专家 生成一个柱状图，展示Q1-Q4各部门的销售额
```

### 场景 2：基金组合分析

**需求**：查看资产配置比例

**请求**：
```
画一个饼图展示我的基金组合：股票基金45%，债券基金30%，货币基金25%
```

### 场景 3：净值走势展示

**需求**：展示基金净值变化

**请求**：
```
@数据可视化专家 创建一个折线图，展示过去12个月的基金净值走势
```

---

## ⚙️ 高级功能

### 全屏查看

生成的图表右上角有一个"全屏查看"按钮（📐 图标），点击可在新窗口中以更大尺寸查看图表。

### 自定义样式

您可以在请求中指定样式需求：

```
@数据可视化专家 生成一个蓝色主题的柱状图
```

### 多图表组合

可以请求在一个页面中显示多个图表：

```
@数据可视化专家 生成一个仪表板，包含：
1. 销售额柱状图
2. 利润趋势折线图
3. 市场份额饼图
```

---

## 🔧 故障排查

### 问题 1：图表未显示

**可能原因**：
- 网络问题导致 CDN 加载失败
- 浏览器禁用了 JavaScript

**解决方案**：
- 刷新页面
- 检查浏览器控制台是否有错误
- 点击"全屏查看"在新窗口打开

### 问题 2：样式异常

**可能原因**：
- CSS 冲突

**解决方案**：
- 使用"全屏查看"功能
- 尝试清除浏览器缓存

---

## 📚 扩展阅读

- [Chart.js 官方文档](https://www.chartjs.org/)
- [ECharts 官方文档](https://echarts.apache.org/)
- [D3.js 官方文档](https://d3js.org/)

---

## 🎉 总结

数据可视化专家让您无需编写代码即可生成专业的交互式图表：

✅ **简单**：自然语言描述即可
✅ **专业**：使用业界领先的图表库
✅ **美观**：统一的橙色主题设计
✅ **交互**：支持悬停、缩放等交互
✅ **灵活**：支持多种图表类型

**立即体验**：在 AgentDesk 中输入 `@数据可视化专家` 开始您的数据可视化之旅！ 🚀




